<div class="container">
  <div class="row">
    <div class="col-md-4">
      <section class="application-nav sticky-top">
        <div style="max-height: 90%;">
          <div class="card organization-box" *ngIf="trans">
            <div class="card-header">
              {{ trans.organizationName ||'Organization'}}
            </div>
            <div class="card-body" *ngIf="isContractUpload">
              <p class="card-text">
                <strong>Contract No</strong><br>
                {{contractNumber}}
              </p>
            </div>
          </div>
        </div>
        <!-- <div style="max-height: 90%;">
          <app-icon-stepper></app-icon-stepper>
        </div> -->
        <button class="btn btn-primary mt-2" (click)="exit()">Exit</button>
      </section>
    </div>
    <div class="col">
      <div>
        <div class="page-header">
          <h1>{{isContractUpload ? "Upload Documents" : "Upload General Documents"}}</h1>
        </div>
        <div>
          <ul *ngIf="documentsToAdd.length" class="list-group mb-2">
            <li *ngFor="let doc of documentsToAdd; let i=index" class="list-group-item d-flex justify-content-between align-items-center">
              <span class="file-name-container">
                {{doc.filename}}
              </span>

              <span class="file-type-container">
                <label class="file-type-label">File Type</label>
                <select class="form-control file-type-select" [(ngModel)]="doc.subject" #doctype="ngModel">
                  <option *ngFor="let type of document_types" [value]="type">{{type}}</option>
                </select>
                <ng-container *ngIf="doc.subject === 'Other'">
                  <input type="text" class="form-control other-input" [(ngModel)]="doc.subjectOther" #city="ngModel">
                </ng-container>
              </span>
              <span (click)="removeFile(i)">
                <i class="fas fa-times-circle text-danger"></i>
              </span>
            </li>
          </ul>
          <input #files id="files" type="file" style="display: none" (change)="onFilesAdded($event.target.files)" multiple>
          <button type="button" class="btn btn-warning" (click)="fakeBrowseClick()">Add File</button>
          <button class="btn btn-warning ml-2" [class.is-disabled]="documentsToAdd.length == 0 || saving" (click)="upload()">Upload Files</button>
        </div>
      </div>

      <div class="row existing-documents-row" *ngIf="isContractUpload">
        <div class="col-md-12">
          <h4>Existing Documents</h4>
          <ng-container *ngIf="loadingDocuments">
            Loading... <i class="text-secondary spinner-border spinner-border-sm"></i>
          </ng-container>

          <ng-container *ngIf="didLoadDocuments && existingDocuments.length > 0">
            <div class="row">
              <div class="col">
                Your Document
              </div>
              <div class="col">
                Available Date
              </div>
            </div>
            <div *ngFor="let doc of existingDocuments" class="row">
              <div class="col">
                {{doc.filename}}
              </div>
              <div class="col">
                {{doc.overwritetime | date:'yyyy-MM-dd'}}
              </div>
            </div>
          </ng-container>

          <ng-container *ngIf="didLoadDocuments && existingDocuments.length === 0">
            No documents
          </ng-container>
        </div>
      </div>

    </div>
  </div>



  <div class="row min-row-height">
    <div class="col-md-12">
    </div>
  </div>
</div>