<ul class="nav nav-pills mb-2">
	<li *ngFor="let tab of tabs" class="nav-item">
		<a class="nav-link" [class.active]="tab===currentTab" (click)="currentTab=tab">{{tab}}</a>
	</li>
</ul>
<h2>{{currentTab}}</h2>
<div *ngIf="currentTab===tabs[0]">
	<!-- Program revenue information -->
	<h2 class="blue-header">{{currentTab}}</h2>
	<ol>
		<li>For each program applied for, a separate Budget Proposal must be completed. </li>
		<li>For
			<strong>
				Police-based Victim Service
			</strong>
			programs that are cost-shared with municipality / regional district, the maximum
			<strong>
				"In-kind Contribution"
			</strong>
			amount that may be claimed for under "Municipal" or "Regional District" is 20% cash. "In-kind contributions" include costs for facilities (e.g. rent, utilities and maintenance), telephone, fax, and office supplies, etc.</li>
		<li>For each program, your budget should confirm that you are providing the number of service hours as stated in your contract.</li>
		<li>
			<strong>
				Your Budget Proposal must be balanced and equal to the amount identified in your Program Application Cover Letter.
			</strong>
		</li>
	</ol>
	<h2 class="blue-header">Program Revenue Sources</h2>
	<app-revenue-source-table></app-revenue-source-table>
	<table class="table table-striped">
		<thead>
			<th scope="col">Revenue Source</th>
			<th scope="col">Cash</th>
			<th scope="col">In-kind Contribution</th>
			<th scope="col">Total</th>
			<th></th>
		</thead>
		<tbody>
			<tr *ngFor="let source of revenueSources; let i=index">
				<td>
					<select [(ngModel)]="source.revenueSourceName" class="form-control" name="source_{{i}}" id="source_{{i}}">
						<option>Ministry of PSSG-VSCP</option>
						<option>Municipal Government</option>
						<option>Regional District</option>
						<option>Applicant Organization</option>
						<option>Other</option>
					</select>
					<span *ngIf="source.revenueSourceName==='Other'">
						<input class="form-control mt-1" type="text" [(ngModel)]="source.other" placeholder="Specify" id="other_{{i}}">
					</span>
				</td>
				<td>
					<input class="form-control" (input)="calculateTotals()" type="number" [(ngModel)]="source.cash" min="0" id="cash_{{i}}">
				</td>
				<td>
					<input class="form-control" (input)="calculateTotals()" type="number" [(ngModel)]="source.inKindContribution" min="0" id="kind_{{i}}">
				</td>
				<td>
					<input class="form-control" type="number" [value]="(source.cash||0) + (source.inKindContribution||0)" id="kind_{{i}}" disabled>
				</td>
				<td (click)="removeRevenueSource(i)" class="align-middle">
					<i class="fas fa-times-circle text-danger"></i>
				</td>
			</tr>
			<tr>
				<th>Total </th>
				<th>${{totalCash}} </th>
				<th>${{totalInKind}} </th>
				<th>${{totalGrand}} </th>
				<td (click)="addRevenueSource()" class="align-middle">
					<div class="form-group">
						<i class="fas fa-plus-circle text-success"></i>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
	<!-- <button (click)="addRevenueSource();totalCash;totalInKind">Add revenue</button>
	<p>total</p> -->
</div>
<div *ngIf="currentTab===tabs[1]">
	<!-- Program Expense -->
	<h2 class="blue-header">{{currentTab}}</h2>
</div>
<pre>RevenueSources{{revenueSources|json}}</pre>
<!-- <pre>StepperJson{{stepperElement|json}}</pre> -->